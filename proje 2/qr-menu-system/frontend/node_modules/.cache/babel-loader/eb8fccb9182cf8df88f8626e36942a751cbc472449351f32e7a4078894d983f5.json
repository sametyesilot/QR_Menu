{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samet\\\\Desktop\\\\proje 2\\\\qr-menu-system\\\\frontend\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { useNavigate, Link as RouterLink, useLocation } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { Formik, Form, Field } from 'formik';\nimport * as Yup from 'yup';\nimport { Container, Box, Typography, TextField, Button, Grid, Link, Alert, Paper } from '@mui/material';\n\n// Validation schema\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginSchema = Yup.object().shape({\n  email: Yup.string().email('Geçerli bir e-posta adresi giriniz').required('E-posta adresi gereklidir'),\n  password: Yup.string().required('Şifre gereklidir')\n});\nconst Login = () => {\n  _s();\n  var _location$state, _location$state$from;\n  const {\n    login,\n    error,\n    isAuthenticated\n  } = useContext(AuthContext);\n  const [loginError, setLoginError] = useState('');\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Kullanıcı giriş yapmışsa ve login sayfasına gelirse anasayfaya yönlendir\n  React.useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/');\n    }\n  }, [isAuthenticated, navigate]);\n\n  // Gelinen sayfayı al, yoksa anasayfaya yönlendir\n  const from = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : (_location$state$from = _location$state.from) === null || _location$state$from === void 0 ? void 0 : _location$state$from.pathname) || '/';\n  const handleSubmit = async (values, {\n    setSubmitting\n  }) => {\n    const success = await login(values.email, values.password);\n    if (success) {\n      // Başarılı girişte gelinen sayfaya yönlendir\n      navigate(from, {\n        replace: true\n      });\n    } else {\n      setLoginError(error || 'Giriş başarısız. Lütfen bilgilerinizi kontrol edin.');\n    }\n    setSubmitting(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"xs\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 4,\n        mt: 8\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h5\",\n          children: \"Giri\\u015F Yap\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), loginError && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          sx: {\n            width: '100%',\n            mt: 2\n          },\n          children: loginError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Formik, {\n          initialValues: {\n            email: '',\n            password: ''\n          },\n          validationSchema: LoginSchema,\n          onSubmit: handleSubmit,\n          children: ({\n            errors,\n            touched,\n            isSubmitting\n          }) => /*#__PURE__*/_jsxDEV(Form, {\n            style: {\n              width: '100%',\n              marginTop: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Field, {\n              as: TextField,\n              name: \"email\",\n              label: \"E-posta Adresi\",\n              variant: \"outlined\",\n              margin: \"normal\",\n              fullWidth: true,\n              error: touched.email && Boolean(errors.email),\n              helperText: touched.email && errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Field, {\n              as: TextField,\n              name: \"password\",\n              label: \"\\u015Eifre\",\n              type: \"password\",\n              variant: \"outlined\",\n              margin: \"normal\",\n              fullWidth: true,\n              error: touched.password && Boolean(errors.password),\n              helperText: touched.password && errors.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              fullWidth: true,\n              variant: \"contained\",\n              color: \"primary\",\n              disabled: isSubmitting,\n              sx: {\n                mt: 3,\n                mb: 2\n              },\n              children: isSubmitting ? 'Giriş Yapılıyor...' : 'Giriş Yap'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              justifyContent: \"flex-end\",\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  component: RouterLink,\n                  to: \"/register\",\n                  variant: \"body2\",\n                  children: \"Hesab\\u0131n\\u0131z yok mu? Kay\\u0131t olun\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"lxQ34Lknp5RT1lAnK+qQNaw+FYQ=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useState","useNavigate","Link","RouterLink","useLocation","AuthContext","Formik","Form","Field","Yup","Container","Box","Typography","TextField","Button","Grid","Alert","Paper","jsxDEV","_jsxDEV","LoginSchema","object","shape","email","string","required","password","Login","_s","_location$state","_location$state$from","login","error","isAuthenticated","loginError","setLoginError","navigate","location","useEffect","from","state","pathname","handleSubmit","values","setSubmitting","success","replace","maxWidth","children","elevation","sx","p","mt","display","flexDirection","alignItems","component","variant","fileName","_jsxFileName","lineNumber","columnNumber","severity","width","initialValues","validationSchema","onSubmit","errors","touched","isSubmitting","style","marginTop","as","name","label","margin","fullWidth","Boolean","helperText","type","color","disabled","mb","container","justifyContent","item","to","_c","$RefreshReg$"],"sources":["C:/Users/Samet/Desktop/proje 2/qr-menu-system/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { useNavigate, Link as RouterLink, useLocation } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport {\r\n  Container,\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Grid,\r\n  Link,\r\n  Alert,\r\n  Paper\r\n} from '@mui/material';\r\n\r\n// Validation schema\r\nconst LoginSchema = Yup.object().shape({\r\n  email: Yup.string()\r\n    .email('Geçerli bir e-posta adresi giriniz')\r\n    .required('E-posta adresi gereklidir'),\r\n  password: Yup.string()\r\n    .required('Şifre gereklidir')\r\n});\r\n\r\nconst Login = () => {\r\n  const { login, error, isAuthenticated } = useContext(AuthContext);\r\n  const [loginError, setLoginError] = useState('');\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  // Kullanıcı giriş yapmışsa ve login sayfasına gelirse anasayfaya yönlendir\r\n  React.useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate('/');\r\n    }\r\n  }, [isAuthenticated, navigate]);\r\n\r\n  // Gelinen sayfayı al, yoksa anasayfaya yönlendir\r\n  const from = location.state?.from?.pathname || '/';\r\n\r\n  const handleSubmit = async (values, { setSubmitting }) => {\r\n    const success = await login(values.email, values.password);\r\n    if (success) {\r\n      // Başarılı girişte gelinen sayfaya yönlendir\r\n      navigate(from, { replace: true });\r\n    } else {\r\n      setLoginError(error || 'Giriş başarısız. Lütfen bilgilerinizi kontrol edin.');\r\n    }\r\n    setSubmitting(false);\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"xs\">\r\n      <Paper elevation={3} sx={{ p: 4, mt: 8 }}>\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Giriş Yap\r\n          </Typography>\r\n          \r\n          {loginError && (\r\n            <Alert severity=\"error\" sx={{ width: '100%', mt: 2 }}>\r\n              {loginError}\r\n            </Alert>\r\n          )}\r\n          \r\n          <Formik\r\n            initialValues={{ email: '', password: '' }}\r\n            validationSchema={LoginSchema}\r\n            onSubmit={handleSubmit}\r\n          >\r\n            {({ errors, touched, isSubmitting }) => (\r\n              <Form style={{ width: '100%', marginTop: '1rem' }}>\r\n                <Field\r\n                  as={TextField}\r\n                  name=\"email\"\r\n                  label=\"E-posta Adresi\"\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  fullWidth\r\n                  error={touched.email && Boolean(errors.email)}\r\n                  helperText={touched.email && errors.email}\r\n                />\r\n                <Field\r\n                  as={TextField}\r\n                  name=\"password\"\r\n                  label=\"Şifre\"\r\n                  type=\"password\"\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  fullWidth\r\n                  error={touched.password && Boolean(errors.password)}\r\n                  helperText={touched.password && errors.password}\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  sx={{ mt: 3, mb: 2 }}\r\n                >\r\n                  {isSubmitting ? 'Giriş Yapılıyor...' : 'Giriş Yap'}\r\n                </Button>\r\n                <Grid container justifyContent=\"flex-end\">\r\n                  <Grid item>\r\n                    <Link component={RouterLink} to=\"/register\" variant=\"body2\">\r\n                      Hesabınız yok mu? Kayıt olun\r\n                    </Link>\r\n                  </Grid>\r\n                </Grid>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}